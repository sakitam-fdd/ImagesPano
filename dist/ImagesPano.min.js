!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ImagesPano",[],t):"object"==typeof exports?exports.ImagesPano=t():e.ImagesPano=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},r=function(){var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl"))};t.isCanvasSupported=o,t.isWebGLSupported=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeListener=t.addListener=t.getDomEventKey=t.createHidden=t.setClass=t.removeClass=t.addClass=t.hasClass=t.toBack=t.toFront=t.empty=t.remove=t.create=t.getStyle=t.getClass=t.getElementsByClassName=t.getChildByTagName=t.get=void 0;var o=n(6),r=(t.get=function(e){return"string"==typeof e?document.getElementById(e):e},t.getChildByTagName=function(e,t){return t.getElementsByTagName(e)},t.getElementsByClassName=function(e,t,n){var o=n||window;return o.document.querySelector.bind(o.document)(e)},t.getClass=function(e){return e.getAttribute&&e.getAttribute("class")||""}),i=(t.getStyle=function(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var o=document.defaultView.getComputedStyle(e,null);n=o?o[t]:null}return"auto"===n?null:n},t.create=function(e,t,n,o){var r=document.createElement(e);return r.className=t||"",o&&(r.id=o),n&&n.appendChild(r),r},t.remove=function(e){var t=e.parentNode;t&&t.removeChild(e)},t.empty=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.toFront=function(e){e.parentNode.appendChild(e)},t.toBack=function(e){var t=e.parentNode;t.insertBefore(e,t.firstChild)},t.hasClass=function(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=r(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}),a=(t.addClass=function(e,t){if(void 0!==e.classList)for(var n=(0,o.splitWords)(t),s=0,u=n.length;s<u;s++)e.classList.add(n[s]);else if(!i(e,t)){var c=r(e);a(e,(c?c+" ":"")+t)}},t.removeClass=function(e,t){void 0!==e.classList?e.classList.remove(t):a(e,String.trim((" "+r(e)+" ").replace(" "+t+" "," ")))},t.setClass=function(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}),s=(t.createHidden=function(e,t,n){var o=document.createElement(e);return o.style.display="none",n&&(o.id=n),t&&t.appendChild(o),o},t.getDomEventKey=function(e,t,n){return"_p_dom_event_"+e+"_"+(0,o.stamp)(t)+(n?"_"+(0,o.stamp)(n):"")});t.addListener=function(e,t,n,o){var r=s(t,n,o),i=e[r];return i?this:(i=function(t){return n.call(o||e,t)},"addEventListener"in e?e.addEventListener(t,i,!1):"attachEvent"in e&&e.attachEvent("on"+t,i),e[r]=i,this)},t.removeListener=function(e,t,n,o){var r=s(t,n,o),i=e[r];return i?("removeEventListener"in e?e.removeEventListener(t,i,!1):"detachEvent"in e&&e.detachEvent("on"+t,i),e[r]=null,this):this}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){o(this,e)}return r(e,[{key:"loadXMP",value:function(){var e=this,t=null;if(window.XMLHttpRequest)t=new XMLHttpRequest;else{if(!window.ActiveXObject)return this.container.textContent="XHR is not supported, update your browser!",!1;try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){t=new ActiveXObject("Microsoft.XMLHTTP")}}return new Promise(function(n,o){t.onreadystatechange=function(){4===t.readyState&&200===t.status?n(t.responseText):o("error")},t.open("GET",e.options.panorama,!0),t.send(null)})}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function e(){o(this,e)};for(var a in t){var s=t[a];i(r,s),i(r.prototype,s.prototype)}return r},i=function(e,t){var n=!0,o=!1,r=void 0;try{for(var i,a=Reflect.ownKeys(t)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if("constructor"!==s&&"prototype"!==s&&"name"!==s&&"length"!==s){var u=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,u)}}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}};t.default=r,e.exports=t.default},function(e,t){},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),l=r(c),f=n(0),d=r(f),p=n(3),v=o(p),m=n(2),y=o(m);n(4);var h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.version="1.0.0",n.options=e||{},n.container="string"==typeof n.options.container?document.getElementById(n.options.container):n.options.container,n.loadingText=void 0!==n.options.loadingText?n.options.loadingText:null,n.containerInner=l.create("div","images-pano-content-inner"),n.readxmp=void 0===n.options.useXmpData||!!n.options.useXmpData,n.corsAnonymous=void 0===n.options.corsAnonymous||!!n.options.corsAnonymous,n}return s(t,e),u(t,[{key:"getVersion",value:function(){return this.version}},{key:"init",value:function(){return this.loadingText&&this.container?this.container.innerText=this.loadingText:this.container.innerText="正在加载中。。。",d.isCanvasSupported()?void 0===window.THREE?(console.log("THREE is not load"),this.container.textContent="THREE is not load",!1):void(this.readxmp&&!this.options.panorama.match(/^data:image\/[a-z]+;base64/)?this.loadXMP().then(function(e){console.log(e)}).catch(function(e){console.log(e)}):this.createBuffer()):(this.container.textContent="Canvas is not supported, update your browser!",!1)}},{key:"createBuffer",value:function(){console.log("buffer")}}]),t}((0,v.default)(y.default));t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(t.getrandom=function(e,t,n){e&&!isNaN(e)||(e=0),t&&!isNaN(t)||(t=1),n&&!isNaN(n)||(n=0),n=n>15?15:n;var o=[Math.random()*(t-e)+e,Math.pow(10,n)],r=o[0],i=o[1];return r=Math.round(r*i)/i},t.getuuid=function(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},t.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")});t.splitWords=function(e){return o(e).split(/\s+/)}}])});
//# sourceMappingURL=ImagesPano.min.js.map