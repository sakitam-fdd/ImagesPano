{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///ImagesPano.min.js","webpack:///webpack/bootstrap a206379525476f815c0a","webpack:///./src/browserUtils/browser.js","webpack:///./src/dom/domUtils.js","webpack:///./src/utils/ajax.js","webpack:///./src/utils/mixin.js","webpack:///./src/index.js","webpack:///./src/utils/utils.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","isCanvasSupported","canvas","document","createElement","getContext","isWebGLSupported","window","WebGLRenderingContext","removeListener","addListener","getDomEventKey","createHidden","setClass","removeClass","addClass","hasClass","toBack","toFront","empty","remove","create","getStyle","getClass","getElementsByClassName","getChildByTagName","undefined","_utils","id","getElementById","str","container","getElementsByTagName","_root","querySelector","bind","elem","getAttribute","el","style","currentStyle","defaultView","css","getComputedStyle","tagName","className","appendChild","parent","parentNode","removeChild","firstChild","insertBefore","classList","contains","length","RegExp","test","classes","splitWords","len","add","String","trim","replace","baseVal","element","display","type","fn","context","stamp","eventKey","handler","e","addEventListener","attachEvent","removeEventListener","detachEvent","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","writable","key","protoProps","staticProps","AjaxUtil","_this","xhr","XMLHttpRequest","ActiveXObject","textContent","Promise","resolve","reject","onreadystatechange","readyState","status","responseText","open","options","send","default","mix","_len","arguments","mixins","Array","_key","Mix","mixin","copyProperties","source","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Reflect","ownKeys","Symbol","iterator","next","done","desc","getOwnPropertyDescriptor","err","return","_interopRequireDefault","obj","_interopRequireWildcard","newObj","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","_domUtils","DomUtils","_browser","browserUtils","_mixin","_mixin2","_ajax","_ajax2","ImagesPano","_mix","params","getPrototypeOf","version","loadingText","containerInner","readxmp","corsAnonymous","innerText","THREE","console","log","match","loadXMP","then","res","catch","error","createBuffer","getrandom","t1","t2","t3","isNaN","_ref","Math","random","pow","ra","du","round","getuuid","hexDigits","substr","floor","join","split"],"mappings":"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","file":"ImagesPano.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ImagesPano\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ImagesPano\"] = factory();\n\telse\n\t\troot[\"ImagesPano\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ImagesPano\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ImagesPano\"] = factory();\n\telse\n\t\troot[\"ImagesPano\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isCanvasSupported = function isCanvasSupported() {\n  var canvas = document.createElement('canvas');\n  return !!(canvas.getContext && canvas.getContext('2d'));\n};\n\nvar isWebGLSupported = function isWebGLSupported() {\n  var canvas = document.createElement('canvas');\n  return !!(window.WebGLRenderingContext && canvas.getContext('webgl'));\n};\n\nexports.isCanvasSupported = isCanvasSupported;\nexports.isWebGLSupported = isWebGLSupported;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeListener = exports.addListener = exports.getDomEventKey = exports.createHidden = exports.setClass = exports.removeClass = exports.addClass = exports.hasClass = exports.toBack = exports.toFront = exports.empty = exports.remove = exports.create = exports.getStyle = exports.getClass = exports.getElementsByClassName = exports.getChildByTagName = exports.get = undefined;\n\nvar _utils = __webpack_require__(6);\n\nvar get = exports.get = function get(id) {\n  return typeof id === 'string' ? document.getElementById(id) : id;\n};\n\nvar getChildByTagName = exports.getChildByTagName = function getChildByTagName(str, container) {\n  return container.getElementsByTagName(str);\n};\n\nvar getElementsByClassName = exports.getElementsByClassName = function getElementsByClassName(str, container, root) {\n  var _root = root || window;\n  var $ = _root.document.querySelector.bind(_root.document);\n\n  var target = $(str);\n  return target;\n};\n\nvar getClass = exports.getClass = function getClass(elem) {\n  return elem.getAttribute && elem.getAttribute('class') || '';\n};\n\nvar getStyle = exports.getStyle = function getStyle(el, style) {\n  var value = el.style[style] || el.currentStyle && el.currentStyle[style];\n  if ((!value || value === 'auto') && document.defaultView) {\n    var css = document.defaultView.getComputedStyle(el, null);\n    value = css ? css[style] : null;\n  }\n  return value === 'auto' ? null : value;\n};\n\nvar create = exports.create = function create(tagName, className, container, id) {\n  var el = document.createElement(tagName);\n  el.className = className || '';\n  if (id) {\n    el.id = id;\n  }\n  if (container) {\n    container.appendChild(el);\n  }\n  return el;\n};\n\nvar remove = exports.remove = function remove(el) {\n  var parent = el.parentNode;\n  if (parent) {\n    parent.removeChild(el);\n  }\n};\n\nvar empty = exports.empty = function empty(el) {\n  while (el.firstChild) {\n    el.removeChild(el.firstChild);\n  }\n};\n\nvar toFront = exports.toFront = function toFront(el) {\n  el.parentNode.appendChild(el);\n};\n\nvar toBack = exports.toBack = function toBack(el) {\n  var parent = el.parentNode;\n  parent.insertBefore(el, parent.firstChild);\n};\n\nvar hasClass = exports.hasClass = function hasClass(el, name) {\n  if (el.classList !== undefined) {\n    return el.classList.contains(name);\n  }\n  var className = getClass(el);\n  return className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className);\n};\n\nvar addClass = exports.addClass = function addClass(el, name) {\n  if (el.classList !== undefined) {\n    var classes = (0, _utils.splitWords)(name);\n    for (var i = 0, len = classes.length; i < len; i++) {\n      el.classList.add(classes[i]);\n    }\n  } else if (!hasClass(el, name)) {\n    var className = getClass(el);\n    setClass(el, (className ? className + ' ' : '') + name);\n  }\n};\n\nvar removeClass = exports.removeClass = function removeClass(el, name) {\n  if (el.classList !== undefined) {\n    el.classList.remove(name);\n  } else {\n    setClass(el, String.trim((' ' + getClass(el) + ' ').replace(' ' + name + ' ', ' ')));\n  }\n};\n\nvar setClass = exports.setClass = function setClass(el, name) {\n  if (el.className.baseVal === undefined) {\n    el.className = name;\n  } else {\n    el.className.baseVal = name;\n  }\n};\n\nvar createHidden = exports.createHidden = function createHidden(tagName, parent, id) {\n  var element = document.createElement(tagName);\n  element.style.display = 'none';\n  if (id) {\n    element.id = id;\n  }\n  if (parent) {\n    parent.appendChild(element);\n  }\n  return element;\n};\n\nvar getDomEventKey = exports.getDomEventKey = function getDomEventKey(type, fn, context) {\n  return '_p_dom_event_' + type + '_' + (0, _utils.stamp)(fn) + (context ? '_' + (0, _utils.stamp)(context) : '');\n};\n\nvar addListener = exports.addListener = function addListener(element, type, fn, context) {\n  var eventKey = getDomEventKey(type, fn, context);\n  var handler = element[eventKey];\n  if (handler) {\n    return this;\n  }\n  handler = function handler(e) {\n    return fn.call(context || element, e);\n  };\n  if ('addEventListener' in element) {\n    element.addEventListener(type, handler, false);\n  } else if ('attachEvent' in element) {\n    element.attachEvent('on' + type, handler);\n  }\n  element[eventKey] = handler;\n  return this;\n};\n\nvar removeListener = exports.removeListener = function removeListener(element, type, fn, context) {\n  var eventKey = getDomEventKey(type, fn, context);\n  var handler = element[eventKey];\n  if (!handler) {\n    return this;\n  }\n  if ('removeEventListener' in element) {\n    element.removeEventListener(type, handler, false);\n  } else if ('detachEvent' in element) {\n    element.detachEvent('on' + type, handler);\n  }\n  element[eventKey] = null;\n  return this;\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AjaxUtil = function () {\n  function AjaxUtil() {\n    _classCallCheck(this, AjaxUtil);\n  }\n\n  _createClass(AjaxUtil, [{\n    key: 'loadXMP',\n    value: function loadXMP() {\n      var _this = this;\n\n      var xhr = null;\n      if (window.XMLHttpRequest) {\n        xhr = new XMLHttpRequest();\n      } else if (window.ActiveXObject) {\n        try {\n          xhr = new ActiveXObject('Msxml2.XMLHTTP');\n        } catch (e) {\n          xhr = new ActiveXObject('Microsoft.XMLHTTP');\n        }\n      } else {\n        this.container.textContent = 'XHR is not supported, update your browser!';\n        return false;\n      }\n      return new Promise(function (resolve, reject) {\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4 && xhr.status === 200) {\n            resolve(xhr.responseText);\n          } else {\n            reject('error');\n          }\n        };\n        xhr.open('GET', _this.options['panorama'], true);\n        xhr.send(null);\n      });\n    }\n  }]);\n\n  return AjaxUtil;\n}();\n\nexports.default = AjaxUtil;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar mix = function mix() {\n  for (var _len = arguments.length, mixins = Array(_len), _key = 0; _key < _len; _key++) {\n    mixins[_key] = arguments[_key];\n  }\n\n  var Mix = function Mix() {\n    _classCallCheck(this, Mix);\n  };\n\n  for (var key in mixins) {\n    var mixin = mixins[key];\n    copyProperties(Mix, mixin);\n    copyProperties(Mix.prototype, mixin.prototype);\n  }\n  return Mix;\n};\n\nvar copyProperties = function copyProperties(target, source) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Reflect.ownKeys(source)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var key = _step.value;\n\n      if (key !== 'constructor' && key !== 'prototype' && key !== 'name' && key !== 'length') {\n        var desc = Object.getOwnPropertyDescriptor(source, key);\n        Object.defineProperty(target, key, desc);\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nexports.default = mix;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _domUtils = __webpack_require__(1);\n\nvar DomUtils = _interopRequireWildcard(_domUtils);\n\nvar _browser = __webpack_require__(0);\n\nvar browserUtils = _interopRequireWildcard(_browser);\n\nvar _mixin = __webpack_require__(3);\n\nvar _mixin2 = _interopRequireDefault(_mixin);\n\nvar _ajax = __webpack_require__(2);\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n__webpack_require__(4);\n\nvar ImagesPano = function (_mix) {\n  _inherits(ImagesPano, _mix);\n\n  function ImagesPano(params) {\n    _classCallCheck(this, ImagesPano);\n\n    var _this = _possibleConstructorReturn(this, (ImagesPano.__proto__ || Object.getPrototypeOf(ImagesPano)).call(this));\n\n    _this.version = '1.0.0';\n\n    _this.options = params || {};\n\n    _this.container = typeof _this.options['container'] === 'string' ? document.getElementById(_this.options['container']) : _this.options['container'];\n\n    _this.loadingText = _this.options['loadingText'] !== undefined ? _this.options['loadingText'] : null;\n\n    _this.containerInner = DomUtils.create('div', 'images-pano-content-inner');\n\n    _this.readxmp = _this.options['useXmpData'] !== undefined ? !!_this.options['useXmpData'] : true;\n\n    _this.corsAnonymous = _this.options['corsAnonymous'] !== undefined ? !!_this.options['corsAnonymous'] : true;\n    return _this;\n  }\n\n  _createClass(ImagesPano, [{\n    key: 'getVersion',\n    value: function getVersion() {\n      return this.version;\n    }\n  }, {\n    key: 'init',\n    value: function init() {\n      if (this.loadingText && this.container) {\n        this.container.innerText = this.loadingText;\n      } else {\n        this.container.innerText = '正在加载中。。。';\n      }\n\n      if (!browserUtils.isCanvasSupported()) {\n        this.container.textContent = 'Canvas is not supported, update your browser!';\n        return false;\n      }\n\n      if (window.THREE === undefined) {\n        console.log('THREE is not load');\n        this.container.textContent = 'THREE is not load';\n        return false;\n      }\n\n      if (this.readxmp && !this.options['panorama'].match(/^data:image\\/[a-z]+;base64/)) {\n        this.loadXMP().then(function (res) {\n          console.log(res);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        this.createBuffer();\n      }\n    }\n  }, {\n    key: 'createBuffer',\n    value: function createBuffer() {\n      console.log('buffer');\n    }\n  }]);\n\n  return ImagesPano;\n}((0, _mixin2.default)(_ajax2.default));\n\nexports.default = ImagesPano;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar getrandom = exports.getrandom = function getrandom(t1, t2, t3) {\n  if (!t1 || isNaN(t1)) {\n    t1 = 0;\n  }\n  if (!t2 || isNaN(t2)) {\n    t2 = 1;\n  }\n  if (!t3 || isNaN(t3)) {\n    t3 = 0;\n  }\n  t3 = t3 > 15 ? 15 : t3;\n  var _ref = [Math.random() * (t2 - t1) + t1, Math.pow(10, t3)],\n      ra = _ref[0],\n      du = _ref[1];\n\n  ra = Math.round(ra * du) / du;\n  return ra;\n};\n\nvar getuuid = exports.getuuid = function getuuid() {\n  var s = [],\n      hexDigits = '0123456789abcdef';\n\n  for (var i = 0; i < 36; i++) {\n    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n  }\n  s[14] = '4';\n  s[19] = hexDigits.substr(s[19] & 0x3 | 0x8, 1);\n  s[8] = s[13] = s[18] = s[23] = '-';\n  return s.join('');\n};\n\nvar trim = exports.trim = function trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n};\n\nvar splitWords = exports.splitWords = function splitWords(str) {\n  return trim(str).split(/\\s+/);\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// ImagesPano.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a206379525476f815c0a","/**\r\n * Detects whether canvas is supported\r\n * @returns {boolean}\r\n */\r\nconst isCanvasSupported = () => {\r\n  let canvas = document.createElement('canvas')\r\n  return !!(canvas.getContext && canvas.getContext('2d'))\r\n}\r\n\r\n/**\r\n * Detects whether WebGL is supported\r\n * @returns {boolean}\r\n */\r\nconst isWebGLSupported = () => {\r\n  let canvas = document.createElement('canvas')\r\n  return !!(window.WebGLRenderingContext && canvas.getContext('webgl'))\r\n}\r\n\r\nexport {\r\n  isCanvasSupported,\r\n  isWebGLSupported\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/browserUtils/browser.js","import { splitWords, stamp } from '../utils/utils'\r\n\r\n/**\r\n * 通过id获取dom\r\n * @param id\r\n * @returns {Element}\r\n */\r\nexport const get = (id) => {\r\n  return typeof id === 'string' ? document.getElementById(id) : id\r\n}\r\n\r\n/**\r\n * 获取父节点下指定的子节点\r\n * @param str\r\n * @param container\r\n * @returns {NodeList|*}\r\n */\r\nexport const getChildByTagName = (str, container) => {\r\n  return container.getElementsByTagName(str)\r\n}\r\n\r\n/**\r\n * 通过类名获取元素\r\n * @param str\r\n * @param container\r\n * @param root\r\n * @returns {HTMLElement}\r\n */\r\nexport const getElementsByClassName = (str, container, root) => {\r\n  let _root = root || window\r\n  let $ = _root.document.querySelector.bind(_root.document)\r\n  // let $$ = _root.document.querySelectorAll.bind(_root.document)\r\n  let target = $(str)\r\n  return target\r\n}\r\n\r\n/**\r\n * 获取dom class\r\n * @param elem\r\n * @returns {*|getAttribute|string|string}\r\n */\r\nexport const getClass = (elem) => {\r\n  return elem.getAttribute && elem.getAttribute('class') || ''\r\n}\r\n\r\n/**\r\n * 获取dom样式列表（）\r\n * @param el\r\n * @param style\r\n * @returns {*}\r\n */\r\nexport const getStyle = (el, style) => {\r\n  let value = el.style[style] || (el.currentStyle && el.currentStyle[style])\r\n  if ((!value || value === 'auto') && document.defaultView) {\r\n    let css = document.defaultView.getComputedStyle(el, null)\r\n    value = css ? css[style] : null\r\n  }\r\n  return value === 'auto' ? null : value\r\n}\r\n\r\n/**\r\n * 创建dom\r\n * @param tagName (标签名)\r\n * @param className (类名)\r\n * @param container (容器)\r\n * @param id (唯一标识)\r\n * @returns {Element}\r\n */\r\nexport const create = (tagName, className, container, id) => {\r\n  let el = document.createElement(tagName)\r\n  el.className = className || ''\r\n  if (id) {\r\n    el.id = id\r\n  }\r\n  if (container) {\r\n    container.appendChild(el)\r\n  }\r\n  return el\r\n}\r\n\r\n/**\r\n * 移除当前dom\r\n * @param el\r\n */\r\nexport const remove = (el) => {\r\n  let parent = el.parentNode\r\n  if (parent) {\r\n    parent.removeChild(el)\r\n  }\r\n}\r\n\r\n/**\r\n * 将dom致空\r\n * @param el\r\n */\r\nexport const empty = (el) => {\r\n  while (el.firstChild) {\r\n    el.removeChild(el.firstChild)\r\n  }\r\n}\r\n\r\n/**\r\n * 添加到容器前方\r\n * @param el\r\n */\r\nexport const toFront = (el) => {\r\n  el.parentNode.appendChild(el)\r\n}\r\n\r\n/**\r\n * 添加到容器后放\r\n * @param el\r\n */\r\nexport const toBack = (el) => {\r\n  let parent = el.parentNode\r\n  parent.insertBefore(el, parent.firstChild)\r\n}\r\n\r\n/**\r\n * 判断DOM对象是否有此类名\r\n * @param el\r\n * @param name\r\n * @returns {boolean}\r\n */\r\nexport const hasClass = (el, name) => {\r\n  if (el.classList !== undefined) {\r\n    return el.classList.contains(name)\r\n  }\r\n  let className = getClass(el)\r\n  return className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className)\r\n}\r\n\r\n/**\r\n * 添加类名\r\n * @param el\r\n * @param name\r\n */\r\nexport const addClass = (el, name) => {\r\n  if (el.classList !== undefined) {\r\n    let classes = splitWords(name)\r\n    for (let i = 0, len = classes.length; i < len; i++) {\r\n      el.classList.add(classes[i])\r\n    }\r\n  } else if (!hasClass(el, name)) {\r\n    let className = getClass(el)\r\n    setClass(el, (className ? className + ' ' : '') + name)\r\n  }\r\n}\r\n\r\n/**\r\n * 移除类名\r\n * @param el\r\n * @param name\r\n */\r\nexport const removeClass = (el, name) => {\r\n  if (el.classList !== undefined) {\r\n    el.classList.remove(name)\r\n  } else {\r\n    setClass(el, String.trim((' ' + getClass(el) + ' ').replace(' ' + name + ' ', ' ')))\r\n  }\r\n}\r\n\r\n/**\r\n * 设置class\r\n * @param el\r\n * @param name\r\n */\r\nexport const setClass = (el, name) => {\r\n  if (el.className.baseVal === undefined) {\r\n    el.className = name\r\n  } else {\r\n    el.className.baseVal = name\r\n  }\r\n}\r\n\r\n/**\r\n * 创建一个隐藏的元素\r\n * @param tagName\r\n * @param parent\r\n * @param id\r\n * @returns {Element}\r\n */\r\nexport const createHidden = (tagName, parent, id) => {\r\n  let element = document.createElement(tagName)\r\n  element.style.display = 'none'\r\n  if (id) {\r\n    element.id = id\r\n  }\r\n  if (parent) {\r\n    parent.appendChild(element)\r\n  }\r\n  return element\r\n}\r\n\r\n/**\r\n * 获取事件唯一标识\r\n * @param type\r\n * @param fn\r\n * @param context\r\n * @returns {string}\r\n */\r\nexport const getDomEventKey = (type, fn, context) => {\r\n  return '_p_dom_event_' + type + '_' + stamp(fn) + (context ? '_' + stamp(context) : '')\r\n}\r\n\r\n/**\r\n * 对DOM对象添加事件监听\r\n * @param element\r\n * @param type\r\n * @param fn\r\n * @param context\r\n * @returns {*}\r\n */\r\nexport const addListener = function (element, type, fn, context) {\r\n  let eventKey = getDomEventKey(type, fn, context)\r\n  let handler = element[eventKey]\r\n  if (handler) {\r\n    return this\r\n  }\r\n  handler = function (e) {\r\n    return fn.call(context || element, e)\r\n  }\r\n  if ('addEventListener' in element) {\r\n    element.addEventListener(type, handler, false)\r\n  } else if ('attachEvent' in element) {\r\n    element.attachEvent('on' + type, handler)\r\n  }\r\n  element[eventKey] = handler\r\n  return this\r\n}\r\n\r\n/**\r\n * 移除DOM对象监听事件\r\n * @param element\r\n * @param type\r\n * @param fn\r\n * @param context\r\n * @returns {removeListener}\r\n */\r\nexport const removeListener = function (element, type, fn, context) {\r\n  let eventKey = getDomEventKey(type, fn, context)\r\n  let handler = element[eventKey]\r\n  if (!handler) {\r\n    return this\r\n  }\r\n  if ('removeEventListener' in element) {\r\n    element.removeEventListener(type, handler, false)\r\n  } else if ('detachEvent' in element) {\r\n    element.detachEvent('on' + type, handler)\r\n  }\r\n  element[eventKey] = null\r\n  return this\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/dom/domUtils.js","class AjaxUtil {\r\n  loadXMP () {\r\n    let xhr = null\r\n    if (window.XMLHttpRequest) {\r\n      xhr = new XMLHttpRequest()\r\n    } else if (window.ActiveXObject) {\r\n      try {\r\n        xhr = new ActiveXObject('Msxml2.XMLHTTP')\r\n      } catch (e) {\r\n        xhr = new ActiveXObject('Microsoft.XMLHTTP')\r\n      }\r\n    } else {\r\n      this.container.textContent = 'XHR is not supported, update your browser!'\r\n      return false\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      xhr.onreadystatechange = () => {\r\n        if (xhr.readyState === 4 && xhr.status === 200) {\r\n          resolve(xhr.responseText)\r\n        } else {\r\n          reject('error')\r\n        }\r\n      }\r\n      xhr.open('GET', this.options['panorama'], true)\r\n      xhr.send(null)\r\n    })\r\n  }\r\n}\r\n\r\nexport default AjaxUtil\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/ajax.js","const mix = (...mixins) => {\r\n  class Mix {}\r\n  // 以编程方式给Mix类添加\r\n\r\n  // mixins的所有方法和访问器\r\n  for (let key in mixins) {\r\n    let mixin = mixins[key]\r\n    copyProperties(Mix, mixin)\r\n    copyProperties(Mix.prototype, mixin.prototype)\r\n  }\r\n  return Mix\r\n}\r\n\r\nconst copyProperties = (target, source) => {\r\n  for (let key of Reflect.ownKeys(source)) {\r\n    if (key !== 'constructor' && key !== 'prototype' && key !== 'name' && key !== 'length') {\r\n      let desc = Object.getOwnPropertyDescriptor(source, key)\r\n      Object.defineProperty(target, key, desc)\r\n    }\r\n  }\r\n}\r\n\r\nexport default mix\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/mixin.js","require('./style/index.scss')\r\nimport * as DomUtils from './dom/domUtils'\r\nimport * as browserUtils from './browserUtils/browser'\r\nimport mix from './utils/mixin'\r\nimport AjaxUtil from './utils/ajax'\r\nclass ImagesPano extends mix(AjaxUtil) {\r\n  constructor (params) {\r\n    super()\r\n    /**\r\n     * 当前版本, 每次修订版本加1\r\n     * @params 主版本号：当你做了不兼容的 API 修改, 次版本号：当你做了向下兼容的功能性新增,修订号：当你做了向下兼容的问题修正.\r\n     * @type {string}\r\n     */\r\n    this.version = '1.0.0'\r\n    /**\r\n     * 当前配置\r\n     * @type {*}\r\n     */\r\n    this.options = params || {}\r\n    /**\r\n     * 要实例化的dom（当前容器）\r\n     * @type {Element}\r\n     */\r\n    this.container = (typeof this.options['container'] === 'string') ? document.getElementById(this.options['container']) : this.options['container']\r\n    /**\r\n     * 加载时的文字提示\r\n     * @type {null}\r\n     */\r\n    this.loadingText = (this.options['loadingText'] !== undefined) ? this.options['loadingText'] : null\r\n    /**\r\n     * three容器\r\n     * @type {Element}\r\n     */\r\n    this.containerInner = DomUtils.create('div', 'images-pano-content-inner')\r\n    /**\r\n     * 是否以XMP文件模型读取数据\r\n     * 什么是XMP？原来XMP是“Extensible Metadata Platform”（可扩展元数据平台）的缩写。\r\n     * 是Adobe推出的一套元数据（Metadata）描述标准，最常出现在影像相关应用上\r\n     * @type {boolean}\r\n     */\r\n    this.readxmp = (this.options['useXmpData'] !== undefined) ? !!this.options['useXmpData'] : true\r\n    /**\r\n     * 是否允许数据跨域（图片数据）\r\n     * @type {boolean}\r\n     */\r\n    this.corsAnonymous = (this.options['corsAnonymous'] !== undefined) ? !!this.options['corsAnonymous'] : true\r\n  }\r\n\r\n  /**\r\n   * Get this version\r\n   * @returns {string}\r\n   */\r\n  getVersion () {\r\n    return this.version\r\n  }\r\n\r\n  /**\r\n   * 初始化\r\n   */\r\n  init () {\r\n    if (this.loadingText && this.container) {\r\n      this.container.innerText = this.loadingText\r\n    } else {\r\n      this.container.innerText = '正在加载中。。。'\r\n    }\r\n    // 判断浏览器是否支持canvas\r\n    if (!browserUtils.isCanvasSupported()) {\r\n      this.container.textContent = 'Canvas is not supported, update your browser!'\r\n      return false\r\n    }\r\n    // 判断THREE是否被引入\r\n    if (window.THREE === undefined) {\r\n      console.log('THREE is not load')\r\n      this.container.textContent = 'THREE is not load'\r\n      return false\r\n    }\r\n    // 使用XMP文件模型引入\r\n    if (this.readxmp && !this.options['panorama'].match(/^data:image\\/[a-z]+;base64/)) {\r\n      this.loadXMP().then(res => {\r\n        console.log(res)\r\n      }).catch(error => {\r\n        console.log(error)\r\n      })\r\n    } else {\r\n      this.createBuffer()\r\n    }\r\n  }\r\n\r\n  createBuffer () {\r\n    console.log('buffer')\r\n  }\r\n}\r\nexport default ImagesPano\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\r\n * 获取两数值之间的随机值\r\n * @param t1 <下限>\r\n * @param t2 <上限>\r\n * @param t3 <需要保留的小数位, 不能大于十五位>\r\n * @returns {*}\r\n */\r\nexport const getrandom = (t1, t2, t3) => {\r\n  if (!t1 || isNaN(t1)) {\r\n    t1 = 0\r\n  }\r\n  if (!t2 || isNaN(t2)) {\r\n    t2 = 1\r\n  }\r\n  if (!t3 || isNaN(t3)) {\r\n    t3 = 0\r\n  }\r\n  t3 = t3 > 15 ? 15 : t3\r\n  let [ra, du] = [(Math.random() * (t2 - t1) + t1), (Math.pow(10, t3))]\r\n  ra = (Math.round(ra * du) / du)\r\n  return ra\r\n}\r\n\r\n/**\r\n * 获取id\r\n * @returns {*|string|!Array.<T>}\r\n */\r\nexport const getuuid = () => {\r\n  let [ s, hexDigits ] = [ [], '0123456789abcdef' ]\r\n  for (let i = 0; i < 36; i++) {\r\n    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1)\r\n  }\r\n  s[14] = '4'\r\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1)\r\n  s[8] = s[13] = s[18] = s[23] = '-'\r\n  return (s.join(''))\r\n}\r\n\r\n/**\r\n * 去除字符串前后空格\r\n * @param str\r\n * @returns {*}\r\n */\r\nexport const trim = (str) => {\r\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '')\r\n}\r\n\r\n/**\r\n * 将类名截取成数组\r\n * @param str\r\n * @returns {Array|*}\r\n */\r\nexport const splitWords = (str) => {\r\n  return trim(str).split(/\\s+/)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js"],"sourceRoot":""}