{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 23e5b54cbba0a19f5de0","webpack:///./src/browserUtils/browser.js","webpack:///./src/dom/domUtils.js","webpack:///./src/utils/ajax.js","webpack:///./src/utils/mixin.js","webpack:///./src/style/index.scss","webpack:///./src/index.js","webpack:///./src/utils/utils.js"],"names":["isCanvasSupported","canvas","document","createElement","getContext","isWebGLSupported","window","WebGLRenderingContext","get","id","getElementById","getChildByTagName","str","container","getElementsByTagName","getElementsByClassName","root","_root","$","querySelector","bind","target","getClass","elem","getAttribute","getStyle","el","style","value","currentStyle","defaultView","css","getComputedStyle","create","tagName","className","appendChild","remove","parent","parentNode","removeChild","empty","firstChild","toFront","toBack","insertBefore","hasClass","name","classList","undefined","contains","length","RegExp","test","addClass","classes","i","len","add","setClass","removeClass","String","trim","replace","baseVal","createHidden","element","display","getDomEventKey","type","fn","context","addListener","eventKey","handler","e","call","addEventListener","attachEvent","removeListener","removeEventListener","detachEvent","AjaxUtil","xhr","XMLHttpRequest","ActiveXObject","textContent","Promise","resolve","reject","onreadystatechange","readyState","status","responseText","open","options","send","mix","mixins","Mix","key","mixin","copyProperties","prototype","source","Reflect","ownKeys","desc","Object","getOwnPropertyDescriptor","defineProperty","DomUtils","browserUtils","require","ImagesPano","params","version","loadingText","containerInner","readxmp","corsAnonymous","init","innerText","THREE","console","log","match","loadXMP","then","res","catch","error","createBuffer","getrandom","t1","t2","t3","isNaN","Math","random","pow","ra","du","round","getuuid","s","hexDigits","substr","floor","join","splitWords","split"],"mappings":"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","file":"ImagesPano.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ImagesPano\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ImagesPano\"] = factory();\n\telse\n\t\troot[\"ImagesPano\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 23e5b54cbba0a19f5de0","/**\r\n * Detects whether canvas is supported\r\n * @returns {boolean}\r\n */\r\nconst isCanvasSupported = () => {\r\n  let canvas = document.createElement('canvas')\r\n  return !!(canvas.getContext && canvas.getContext('2d'))\r\n}\r\n\r\n/**\r\n * Detects whether WebGL is supported\r\n * @returns {boolean}\r\n */\r\nconst isWebGLSupported = () => {\r\n  let canvas = document.createElement('canvas')\r\n  return !!(window.WebGLRenderingContext && canvas.getContext('webgl'))\r\n}\r\n\r\nexport {\r\n  isCanvasSupported,\r\n  isWebGLSupported\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/browserUtils/browser.js","import { splitWords, stamp } from '../utils/utils'\r\n\r\n/**\r\n * 通过id获取dom\r\n * @param id\r\n * @returns {Element}\r\n */\r\nexport const get = (id) => {\r\n  return typeof id === 'string' ? document.getElementById(id) : id\r\n}\r\n\r\n/**\r\n * 获取父节点下指定的子节点\r\n * @param str\r\n * @param container\r\n * @returns {NodeList|*}\r\n */\r\nexport const getChildByTagName = (str, container) => {\r\n  return container.getElementsByTagName(str)\r\n}\r\n\r\n/**\r\n * 通过类名获取元素\r\n * @param str\r\n * @param container\r\n * @param root\r\n * @returns {HTMLElement}\r\n */\r\nexport const getElementsByClassName = (str, container, root) => {\r\n  let _root = root || window\r\n  let $ = _root.document.querySelector.bind(_root.document)\r\n  // let $$ = _root.document.querySelectorAll.bind(_root.document)\r\n  let target = $(str)\r\n  return target\r\n}\r\n\r\n/**\r\n * 获取dom class\r\n * @param elem\r\n * @returns {*|getAttribute|string|string}\r\n */\r\nexport const getClass = (elem) => {\r\n  return elem.getAttribute && elem.getAttribute('class') || ''\r\n}\r\n\r\n/**\r\n * 获取dom样式列表（）\r\n * @param el\r\n * @param style\r\n * @returns {*}\r\n */\r\nexport const getStyle = (el, style) => {\r\n  let value = el.style[style] || (el.currentStyle && el.currentStyle[style])\r\n  if ((!value || value === 'auto') && document.defaultView) {\r\n    let css = document.defaultView.getComputedStyle(el, null)\r\n    value = css ? css[style] : null\r\n  }\r\n  return value === 'auto' ? null : value\r\n}\r\n\r\n/**\r\n * 创建dom\r\n * @param tagName (标签名)\r\n * @param className (类名)\r\n * @param container (容器)\r\n * @param id (唯一标识)\r\n * @returns {Element}\r\n */\r\nexport const create = (tagName, className, container, id) => {\r\n  let el = document.createElement(tagName)\r\n  el.className = className || ''\r\n  if (id) {\r\n    el.id = id\r\n  }\r\n  if (container) {\r\n    container.appendChild(el)\r\n  }\r\n  return el\r\n}\r\n\r\n/**\r\n * 移除当前dom\r\n * @param el\r\n */\r\nexport const remove = (el) => {\r\n  let parent = el.parentNode\r\n  if (parent) {\r\n    parent.removeChild(el)\r\n  }\r\n}\r\n\r\n/**\r\n * 将dom致空\r\n * @param el\r\n */\r\nexport const empty = (el) => {\r\n  while (el.firstChild) {\r\n    el.removeChild(el.firstChild)\r\n  }\r\n}\r\n\r\n/**\r\n * 添加到容器前方\r\n * @param el\r\n */\r\nexport const toFront = (el) => {\r\n  el.parentNode.appendChild(el)\r\n}\r\n\r\n/**\r\n * 添加到容器后放\r\n * @param el\r\n */\r\nexport const toBack = (el) => {\r\n  let parent = el.parentNode\r\n  parent.insertBefore(el, parent.firstChild)\r\n}\r\n\r\n/**\r\n * 判断DOM对象是否有此类名\r\n * @param el\r\n * @param name\r\n * @returns {boolean}\r\n */\r\nexport const hasClass = (el, name) => {\r\n  if (el.classList !== undefined) {\r\n    return el.classList.contains(name)\r\n  }\r\n  let className = getClass(el)\r\n  return className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className)\r\n}\r\n\r\n/**\r\n * 添加类名\r\n * @param el\r\n * @param name\r\n */\r\nexport const addClass = (el, name) => {\r\n  if (el.classList !== undefined) {\r\n    let classes = splitWords(name)\r\n    for (let i = 0, len = classes.length; i < len; i++) {\r\n      el.classList.add(classes[i])\r\n    }\r\n  } else if (!hasClass(el, name)) {\r\n    let className = getClass(el)\r\n    setClass(el, (className ? className + ' ' : '') + name)\r\n  }\r\n}\r\n\r\n/**\r\n * 移除类名\r\n * @param el\r\n * @param name\r\n */\r\nexport const removeClass = (el, name) => {\r\n  if (el.classList !== undefined) {\r\n    el.classList.remove(name)\r\n  } else {\r\n    setClass(el, String.trim((' ' + getClass(el) + ' ').replace(' ' + name + ' ', ' ')))\r\n  }\r\n}\r\n\r\n/**\r\n * 设置class\r\n * @param el\r\n * @param name\r\n */\r\nexport const setClass = (el, name) => {\r\n  if (el.className.baseVal === undefined) {\r\n    el.className = name\r\n  } else {\r\n    el.className.baseVal = name\r\n  }\r\n}\r\n\r\n/**\r\n * 创建一个隐藏的元素\r\n * @param tagName\r\n * @param parent\r\n * @param id\r\n * @returns {Element}\r\n */\r\nexport const createHidden = (tagName, parent, id) => {\r\n  let element = document.createElement(tagName)\r\n  element.style.display = 'none'\r\n  if (id) {\r\n    element.id = id\r\n  }\r\n  if (parent) {\r\n    parent.appendChild(element)\r\n  }\r\n  return element\r\n}\r\n\r\n/**\r\n * 获取事件唯一标识\r\n * @param type\r\n * @param fn\r\n * @param context\r\n * @returns {string}\r\n */\r\nexport const getDomEventKey = (type, fn, context) => {\r\n  return '_p_dom_event_' + type + '_' + stamp(fn) + (context ? '_' + stamp(context) : '')\r\n}\r\n\r\n/**\r\n * 对DOM对象添加事件监听\r\n * @param element\r\n * @param type\r\n * @param fn\r\n * @param context\r\n * @returns {*}\r\n */\r\nexport const addListener = function (element, type, fn, context) {\r\n  let eventKey = getDomEventKey(type, fn, context)\r\n  let handler = element[eventKey]\r\n  if (handler) {\r\n    return this\r\n  }\r\n  handler = function (e) {\r\n    return fn.call(context || element, e)\r\n  }\r\n  if ('addEventListener' in element) {\r\n    element.addEventListener(type, handler, false)\r\n  } else if ('attachEvent' in element) {\r\n    element.attachEvent('on' + type, handler)\r\n  }\r\n  element[eventKey] = handler\r\n  return this\r\n}\r\n\r\n/**\r\n * 移除DOM对象监听事件\r\n * @param element\r\n * @param type\r\n * @param fn\r\n * @param context\r\n * @returns {removeListener}\r\n */\r\nexport const removeListener = function (element, type, fn, context) {\r\n  let eventKey = getDomEventKey(type, fn, context)\r\n  let handler = element[eventKey]\r\n  if (!handler) {\r\n    return this\r\n  }\r\n  if ('removeEventListener' in element) {\r\n    element.removeEventListener(type, handler, false)\r\n  } else if ('detachEvent' in element) {\r\n    element.detachEvent('on' + type, handler)\r\n  }\r\n  element[eventKey] = null\r\n  return this\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/dom/domUtils.js","class AjaxUtil {\r\n  loadXMP () {\r\n    let xhr = null\r\n    if (window.XMLHttpRequest) {\r\n      xhr = new XMLHttpRequest()\r\n    } else if (window.ActiveXObject) {\r\n      try {\r\n        xhr = new ActiveXObject('Msxml2.XMLHTTP')\r\n      } catch (e) {\r\n        xhr = new ActiveXObject('Microsoft.XMLHTTP')\r\n      }\r\n    } else {\r\n      this.container.textContent = 'XHR is not supported, update your browser!'\r\n      return false\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      xhr.onreadystatechange = () => {\r\n        if (xhr.readyState === 4 && xhr.status === 200) {\r\n          resolve(xhr.responseText)\r\n        } else {\r\n          reject('error')\r\n        }\r\n      }\r\n      xhr.open('GET', this.options['panorama'], true)\r\n      xhr.send(null)\r\n    })\r\n  }\r\n}\r\n\r\nexport default AjaxUtil\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/ajax.js","const mix = (...mixins) => {\r\n  class Mix {}\r\n  // 以编程方式给Mix类添加\r\n\r\n  // mixins的所有方法和访问器\r\n  for (let key in mixins) {\r\n    let mixin = mixins[key]\r\n    copyProperties(Mix, mixin)\r\n    copyProperties(Mix.prototype, mixin.prototype)\r\n  }\r\n  return Mix\r\n}\r\n\r\nconst copyProperties = (target, source) => {\r\n  for (let key of Reflect.ownKeys(source)) {\r\n    if (key !== 'constructor' && key !== 'prototype' && key !== 'name' && key !== 'length') {\r\n      let desc = Object.getOwnPropertyDescriptor(source, key)\r\n      Object.defineProperty(target, key, desc)\r\n    }\r\n  }\r\n}\r\n\r\nexport default mix\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/mixin.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/style/index.scss\n// module id = 4\n// module chunks = 0","require('./style/index.scss')\r\nimport * as DomUtils from './dom/domUtils'\r\nimport * as browserUtils from './browserUtils/browser'\r\nimport mix from './utils/mixin'\r\nimport AjaxUtil from './utils/ajax'\r\nclass ImagesPano extends mix(AjaxUtil) {\r\n  constructor (params) {\r\n    super()\r\n    /**\r\n     * 当前版本, 每次修订版本加1\r\n     * @params 主版本号：当你做了不兼容的 API 修改, 次版本号：当你做了向下兼容的功能性新增,修订号：当你做了向下兼容的问题修正.\r\n     * @type {string}\r\n     */\r\n    this.version = '1.0.0'\r\n    /**\r\n     * 当前配置\r\n     * @type {*}\r\n     */\r\n    this.options = params || {}\r\n    /**\r\n     * 要实例化的dom（当前容器）\r\n     * @type {Element}\r\n     */\r\n    this.container = (typeof this.options['container'] === 'string') ? document.getElementById(this.options['container']) : this.options['container']\r\n    /**\r\n     * 加载时的文字提示\r\n     * @type {null}\r\n     */\r\n    this.loadingText = (this.options['loadingText'] !== undefined) ? this.options['loadingText'] : null\r\n    /**\r\n     * three容器\r\n     * @type {Element}\r\n     */\r\n    this.containerInner = DomUtils.create('div', 'images-pano-content-inner')\r\n    /**\r\n     * 是否以XMP文件模型读取数据\r\n     * 什么是XMP？原来XMP是“Extensible Metadata Platform”（可扩展元数据平台）的缩写。\r\n     * 是Adobe推出的一套元数据（Metadata）描述标准，最常出现在影像相关应用上\r\n     * @type {boolean}\r\n     */\r\n    this.readxmp = (this.options['useXmpData'] !== undefined) ? !!this.options['useXmpData'] : true\r\n    /**\r\n     * 是否允许数据跨域（图片数据）\r\n     * @type {boolean}\r\n     */\r\n    this.corsAnonymous = (this.options['corsAnonymous'] !== undefined) ? !!this.options['corsAnonymous'] : true\r\n    /**\r\n     * 初始化\r\n     */\r\n    this.init()\r\n  }\r\n\r\n  /**\r\n   * Get this version\r\n   * @returns {string}\r\n   */\r\n  getVersion () {\r\n    return this.version\r\n  }\r\n\r\n  /**\r\n   * 初始化\r\n   */\r\n  init () {\r\n    if (this.loadingText && this.container) {\r\n      this.container.innerText = this.loadingText\r\n    } else {\r\n      this.container.innerText = '正在加载中。。。'\r\n    }\r\n    // 判断浏览器是否支持canvas\r\n    if (!browserUtils.isCanvasSupported()) {\r\n      this.container.textContent = 'Canvas is not supported, update your browser!'\r\n      return false\r\n    }\r\n    // 判断THREE是否被引入\r\n    if (window.THREE === undefined) {\r\n      console.log('THREE is not load')\r\n      this.container.textContent = 'THREE is not load'\r\n      return false\r\n    }\r\n    // 使用XMP文件模型引入\r\n    if (this.readxmp && !this.options['panorama'].match(/^data:image\\/[a-z]+;base64/)) {\r\n      this.loadXMP().then(res => {\r\n        console.log(res)\r\n      }).catch(error => {\r\n        console.log(error)\r\n      })\r\n    } else {\r\n      this.createBuffer()\r\n    }\r\n  }\r\n\r\n  createBuffer () {\r\n    console.log('buffer')\r\n  }\r\n}\r\nexport default ImagesPano\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\r\n * 获取两数值之间的随机值\r\n * @param t1 <下限>\r\n * @param t2 <上限>\r\n * @param t3 <需要保留的小数位, 不能大于十五位>\r\n * @returns {*}\r\n */\r\nexport const getrandom = (t1, t2, t3) => {\r\n  if (!t1 || isNaN(t1)) {\r\n    t1 = 0\r\n  }\r\n  if (!t2 || isNaN(t2)) {\r\n    t2 = 1\r\n  }\r\n  if (!t3 || isNaN(t3)) {\r\n    t3 = 0\r\n  }\r\n  t3 = t3 > 15 ? 15 : t3\r\n  let [ra, du] = [(Math.random() * (t2 - t1) + t1), (Math.pow(10, t3))]\r\n  ra = (Math.round(ra * du) / du)\r\n  return ra\r\n}\r\n\r\n/**\r\n * 获取id\r\n * @returns {*|string|!Array.<T>}\r\n */\r\nexport const getuuid = () => {\r\n  let [ s, hexDigits ] = [ [], '0123456789abcdef' ]\r\n  for (let i = 0; i < 36; i++) {\r\n    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1)\r\n  }\r\n  s[14] = '4'\r\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1)\r\n  s[8] = s[13] = s[18] = s[23] = '-'\r\n  return (s.join(''))\r\n}\r\n\r\n/**\r\n * 去除字符串前后空格\r\n * @param str\r\n * @returns {*}\r\n */\r\nexport const trim = (str) => {\r\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '')\r\n}\r\n\r\n/**\r\n * 将类名截取成数组\r\n * @param str\r\n * @returns {Array|*}\r\n */\r\nexport const splitWords = (str) => {\r\n  return trim(str).split(/\\s+/)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js"],"sourceRoot":""}